### General Practices
* If you hit a linting or TypeScript error, spend no more than 3 cycles trying to fix it, then move on.
* Use 2 space indentation for JavaScript and TypeScript.
* Analyze the accompanying code. Identify and remove comments that are demonstrably stale: those describing specific code elements (variables, functions, logic steps) or behaviors that no longer exist or have been significantly altered, rendering the comment factually incorrect or misleading compared to the current implementation. Prioritize removing comments that directly contradict the adjacent code's behavior. Preserve comments explaining high-level intent, historical rationale, complex algorithms, or TODO/FIXME markers, unless they are clearly invalidated by the surrounding code changes. If a comment is partially inaccurate but its core explanation remains valuable, attempt to update it to accurately reflect the current code; otherwise, proceed with removal.
* Ensure every generated or modified source code file features an accurate top-level comment block detailing its core purpose and any architecturally significant aspects not immediately obvious from the code structure (e.g., its role in the system, key design rationale, non-trivial dependencies, complex interaction patterns). If a comment block exists, meticulously update it to reflect all changes made, correct inaccuracies, and incorporate missing context. If no block exists, add one, especially for files exhibiting significant complexity or performing critical architectural functions.
* Optimize React hook dependencies (`useEffect`, `useMemo`, `useCallback`) for performance and stability. If a value is required within the hook's callback but its changes should not trigger a re-run, access the latest value directly inside the callback (e.g., using `someRef.current` or `store.getState()`) instead of adding it to the dependency array. This prevents unnecessary re-executions and potential "Maximum update depth exceeded" errors.